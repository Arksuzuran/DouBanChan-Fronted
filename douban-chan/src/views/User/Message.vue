<template>
    <div>
        <el-container>
            <el-header class="header-container">
                <h2>æˆ‘çš„æ¶ˆæ¯</h2>
                <!-- å·²è¯»åä¸æ˜¾ç¤ºä¸Šæ ‡ -->
                <el-badge v-if="!unreadLiked" class="item" type="success">
                    <el-button size="small" @click="readLiked">ç‚¹èµ</el-button>
                </el-badge>
                <el-badge v-if="unreadLiked" :value="unreadLiked" class="item" type="success">
                    <el-button size="small" @click="readLiked">ç‚¹èµ</el-button>
                </el-badge>

                <el-badge v-if="!unreadComment" class="item">
                    <el-button size="small" @click="readComment">è¯„è®º</el-button>
                </el-badge>
                <el-badge v-if="unreadComment" :value="unreadComment" class="item">
                    <el-button size="small" @click="readComment">è¯„è®º</el-button>
                </el-badge>

                <el-badge v-if="!unreadNotice" class="item">
                    <el-button size="small" @click="readNotice">é€šçŸ¥</el-button>
                </el-badge>
                <el-badge v-if="unreadNotice" :value="unreadNotice" class="item">
                    <el-button size="small" @click="readNotice">é€šçŸ¥</el-button>
                </el-badge>
            </el-header>
            <el-main>
                <div class="msg-container">
                    <DetailedMessageCard v-for="(msg, index) in selectedList" :key="index" :info="msg"
                        :type="selectedSection" />
                </div>
            </el-main>
        </el-container>
    </div>
</template>
  
<script>
import DetailedMessageCard from '../../components/DetailedMessageCard.vue';
export default {
    data() {
        return {
            //å½“å‰é€‰ä¸­äº†ç‚¹èµ1è¿˜æ˜¯è¯„è®º2è¿˜æ˜¯é€šçŸ¥3
            selectedSection: 1,
            //æœªè¯»æ•°é‡
            unreadLiked: 10,
            unreadComment: 20,
            unreadNotice: 10,
            likedList: [
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-29 15:34',
                    from: 'é›†ç¾å°ç»„',
                    type: 'å¸–å­',
                    title: "å®¶äººä»¬è°æ‡‚å•Š",
                    content: "ç‚¹èµ",
                    postImageUrl: require('../../assets/post-img-2.jpg'),
                },
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-29 15:34',
                    from: 'é›†ç¾å°ç»„',
                    type: 'å¸–å­',
                    title: "å®¶äººä»¬è°æ‡‚å•Š",
                    content: "ç‚¹èµ",
                    postImageUrl: require('../../assets/post-img-2.jpg'),
                },
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-29 15:34',
                    from: 'é›†ç¾å°ç»„',
                    type: 'å¸–å­',
                    title: "å®¶äººä»¬è°æ‡‚å•Š",
                    content: "ç‚¹èµ",
                    postImageUrl: require('../../assets/post-img-2.jpg'),
                },
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-29 15:34',
                    from: 'é›†ç¾å°ç»„',
                    type: 'å¸–å­',
                    title: "å®¶äººä»¬è°æ‡‚å•Š",
                    content: "ç‚¹èµ",
                    postImageUrl: require('../../assets/post-img-2.jpg'),
                },
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-29 15:34',
                    from: 'é›†ç¾å°ç»„',
                    type: 'å¸–å­',
                    title: "å®¶äººä»¬è°æ‡‚å•Š",
                    content: "ç‚¹èµ",
                    postImageUrl: require('../../assets/post-img-2.jpg'),
                },
            ],
            commentList: [
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-28 21:22',
                    title: "è¿™å°±æ˜¯ä¸ç©åŸç¥çš„ä¸‹åœº",
                    from: 'åŸç¥å°ç»„',
                    type: 'å¸–å­',
                    content: "æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼æˆ‘è¶…, åŸï¼",
                    postImageUrl: require('../../assets/post-img-1.jpg'),
                },
                {
                    name: "suzuran",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-4-30 17:10',
                    title: "å›æ¥å§ğŸšç‰¢å¤§ğŸš",
                    from: 'é»‘å¤å·´ç²¾ç¥å°ç»„',
                    type: 'å¸–å­',
                    content: "å“¼æƒ³é€ƒï¼Ÿé—ªç”µæ—‹é£åŠˆï¼",
                    postImageUrl: require('../../assets/user-image-3.jpg'),
                },
            ],
            noticeList: [
                {
                    name: "ç®¡ç†å‘˜",
                    imageUrl: require('../../assets/user-image-2.jpg'),
                    date: '2023-5-1 08:05',
                    title: "å›æ¥å§ğŸšç‰¢å¤§ğŸš",
                    from: 'é»‘å¤å·´ç²¾ç¥å°ç»„',
                    type: 'å¸–å­',
                    content: "æ‚¨çš„å¸–å­å·²è¢«ç®¡ç†å‘˜åˆ é™¤ã€‚",
                    postImageUrl: require('../../assets/user-image-3.jpg'),
                },
            ],
        }
    },
    computed: {
        selectedList() {
            if (this.selectedSection === 1) {
                return this.likedList
            }
            else if (this.selectedSection === 2) {
                return this.commentList
            }
            else {
                return this.noticeList
            }
        }
    },
    methods: {
        readLiked() {
            this.unreadLiked = 0
            this.selectedSection = 1
            console.log("readLikedè¢«è°ƒç”¨äº†")
        },
        readComment() {
            this.unreadComment = 0
            this.selectedSection = 2
            console.log("readCommentè¢«è°ƒç”¨äº†")
        },
        readNotice() {
            this.unreadNotice = 0
            this.selectedSection = 3
            console.log("readNoticeè¢«è°ƒç”¨äº†")
        },
    },
    components: {
        DetailedMessageCard,
    }
}
</script>
  
<style scoped>
.header-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
}

.el-badge {
    margin-top: 20px;
    margin-right: 15px;
}

.el-container {
    margin-top: 10px;
}

.msg-container {
    width: 90%;
    margin: 0 auto;
    display: block;
}
</style>